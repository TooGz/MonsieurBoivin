{{- $p := .Params -}}
{{- if or $p.prep_time $p.cook_time $p.rest_time $p.total_time $p.servings $p.difficulty -}}

<aside class="not-prose my-6">
  <div class="rounded-2xl border border-neutral-200/60 bg-white/70 shadow-sm backdrop-blur
              dark:border-neutral-800/70 dark:bg-neutral-900/50">

    <!-- grille uniforme : 1 → 2 → 3 / 6 colonnes -->
    <dl class="grid grid-cols-1 gap-3 p-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6">

      {{/* helper de bloc pour éviter les variations de hauteur */}}
      {{- $itemStart := `<div class="flex items-center gap-3 rounded-xl bg-neutral-50/70 p-3
                                   dark:bg-neutral-800/40">
                           <div class="flex h-6 w-6 shrink-0 items-center justify-center">
                       ` -}}
      {{- $itemMid := `</div>
                       <div class="min-w-0 leading-tight">
                         <dt class="text-[0.7rem] uppercase tracking-wide text-neutral-500 dark:text-neutral-400">` -}}
      {{- $itemEnd := `</dd></div></div>` -}}

      {{ with $p.total_time }}
      {{ printf `%s
          <svg class="h-5 w-5 text-neutral-700 dark:text-neutral-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 2"></path>
          </svg>
        %sTemps total</dt>
        <dd class="truncate text-base font-semibold tabular-nums text-neutral-900 dark:text-neutral-100">%s%s`
        $itemStart $itemMid . $itemEnd | safeHTML }}
      {{ end }}

      {{ with $p.prep_time }}
      {{ printf `%s
          <svg class="h-5 w-5 text-neutral-700 dark:text-neutral-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M2 22l5-5"></path><path d="M14.5 5.5 4 16l4 4L18.5 9.5a3.536 3.536 0 1 0-4-4Z"></path>
          </svg>
        %sPréparation</dt>
        <dd class="truncate text-base font-semibold tabular-nums text-neutral-900 dark:text-neutral-100">%s%s`
        $itemStart $itemMid . $itemEnd | safeHTML }}
      {{ end }}

      {{ with $p.cook_time }}
      {{ printf `%s
          <svg class="h-5 w-5 text-neutral-700 dark:text-neutral-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M8 3v18M16 3v18M4 8h16M4 16h16"></path>
          </svg>
        %sCuisson</dt>
        <dd class="truncate text-base font-semibold tabular-nums text-neutral-900 dark:text-neutral-100">%s%s`
        $itemStart $itemMid . $itemEnd | safeHTML }}
      {{ end }}

      {{ with $p.rest_time }}
      {{ printf `%s
          <svg class="h-5 w-5 text-neutral-700 dark:text-neutral-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M21 6H3"></path><path d="M17 6v8a5 5 0 1 1-10 0V6"></path>
          </svg>
        %sRepos</dt>
        <dd class="truncate text-base font-semibold tabular-nums text-neutral-900 dark:text-neutral-100">%s%s`
        $itemStart $itemMid . $itemEnd | safeHTML }}
      {{ end }}

      {{ with $p.servings }}
      {{ printf `%s
          <svg class="h-5 w-5 text-neutral-700 dark:text-neutral-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
        %sPortions</dt>
        <dd class="truncate text-base font-semibold tabular-nums text-neutral-900 dark:text-neutral-100">%s%s`
        $itemStart $itemMid . $itemEnd | safeHTML }}
      {{ end }}

      {{ with $p.difficulty }}
      {{ printf `%s
          <svg class="h-5 w-5 text-neutral-700 dark:text-neutral-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M12 2l3 7 7 1-5 5 1 7-6-3-6 3 1-7-5-5 7-1 3-7Z"></path>
          </svg>
        %sDifficulté</dt>
        <dd class="truncate text-base font-semibold text-neutral-900 dark:text-neutral-100">%s%s`
        $itemStart $itemMid . $itemEnd | safeHTML }}
      {{ end }}

    </dl>
  </div>
</aside>

{{- end -}}
